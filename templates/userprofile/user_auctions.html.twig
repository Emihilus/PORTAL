{% extends 'base.html.twig' %}

{% block title %}Auctions of {% if app.request.get('username')%}{{app.request.get('username')}}{% else %}{{app.user}}{% endif %}{{ parent() }}{% endblock %}

{% block body %}

<h1>Auctions of the user {% if app.request.get('username')%}{{app.request.get('username')}}{% else %}{{app.user}}{% endif %}</h1>

{# <h2>Back to dashboard</h2> #}


{# modal for tasks or notify user is not logged in #}
{% if app.user %}
{{ include('parts/include/ht_modal_tasks.twig')  }}
{% else %}
{{ include('parts/include/ht_modal_not_logged_in.twig')  }}
{% endif %}


<div id='list-content' class="container-fluid">
		<div class="row">
			<ul id="auctions"
				class="list-group col">
				{# jQuery.ajax populated dynamic content #}
			</ul>
		</div>

		{# pagination section #}
		{{ include('parts/include/ht_pagination.twig') }}
		
	</div>
{% endblock %}


{% block javascripts %}
{{ parent() }}
<script>
    
{# modal code #}
{{ include('parts/include/js_modal.twig')  }}

{# the only dynamic data for getAuctions #}
let GAJArray = { 
		type: {{type}} {% if app.request.get('username') %}, username: '{{app.request.get('username')}}'{% endif %}
				};
let historyString = '{{path(app.request.get('_route'),{'username' : app.request.get('username')})}}/';

{# getAuctions code #}
{{ include('parts/include/js_getAuctions.twig')  }}


</script>
{% endblock %}